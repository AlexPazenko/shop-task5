{% extends 'base.html.twig' %}

{% block main %}
<div class="row">
    <nav class="col-md-2 d-none d-md-block bg-light sidebar">
        <div class="sidebar-sticky">
            <ul class="nav flex-column">
                <li class="nav-item">
                    <a class="nav-link" href="{{path('front')}}">Front page</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{{path('orders')}}">Orders</a>
                </li>
                {%  if is_granted('ROLE_ADMIN') %}
                    <li class="nav-item">
                        <a class="nav-link" href="{{path('users')}}">Users</a>
                    </li>
                {% endif %}
            </ul>

        </div>
    </nav>
    <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4">
        <div class="btn-group">
            <div class="form-row align-items-center ml-3">
            {{ include('user/includes/_user_search_form.html.twig') }}
            </div>
            <div class="form-row align-items-center ml-5">
            {{ include('user/includes/_user_filter_form.html.twig') }}
            </div>
            <div class="form-row align-items-center ml-5">
                {{ include('user/includes/_user_sort_form.html.twig') }}
            </div>
        </div>
        <p></p>
        <h3>All users:</h3>

        {% if users is empty %}
        <h5>Sorry, no users yet!!!</h5>
        {% else %}
        <ul>
            {% for user in users %}
                <li>{{ user.firstName }} {{ user.lastName }}.
                    Role: {{user.roles[0] }}.
                    Email: {{ user.email}} </li>
            {% endfor %}
        </ul>
        {% endif %}

        <a href="{{ path('create_user') }}">Add new user</a>

    </main>
</div>
    {{ knp_pagination_render(users) }}

{% endblock %}
